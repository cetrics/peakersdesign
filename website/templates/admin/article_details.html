{% extends 'admin/layouts/admin-base.html' %}

{% load static%}

{% block 'content' %}

<div class="container">


    <div class="row mt-5">

        <div class="col-lg-8 col-md-8 col-sm-12">
            <h3 class="">{{article.title}}</h3>
            <p class="text-main"><i class="fa fa-tag mr-2"></i>{{article.category}}</p>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 mt-3">
            <a href="{% url 'update_article' article.id %}" class="btn btn-main btn-sm"><i class="fa fa-edit mr-2"></i> Update</a>
            <form action="{% url 'delete_article' article.pk %}" method="POST" class="d-inline">
    {% csrf_token %}
    <button type="submit" class="btn btn-sec btn-sm" onclick="return confirm('Are you sure?');">
        <i class="fa fa-trash mr-2"></i> Delete
    </button>
</form>

        </div>

        <div class="col-lg-6 col-md-6 col-sm-12">
            <img src="{{article.image_url.url}}" class="img-fluid">
        </div>

        <div class="col-lg-6 col-md-6 col-sm-12">
            <div class="card">
                <div class="card-body">

                    <h5 class="text-center">Title: {{article.title}}</h5>
                    <p>Category: {{article.category}}</p>
                    <p>Likes: {{article.likes}}</p>
                    <p>Dislikes {{article.dislikes}}</p>
                    <p>Views {{article.views}}</p>
                </div>

                <div class="card-footer">
                    <p>Author: {{article.user}}</p>
                    <p>Created at: {{article.created_at}}</p>
                </div>
                    
            </div>
        </div>

        <div class="col-lg-6 col-md-12 col-sm-12 mt-2">
            <div class="card">
                <div class="card-header">
                    <h6 class="font-weight-bold">Keywords</h6>
                </div>
                <div class="card-body">
                    <p>{{article.keywords}}</p>
                </div>
            </div>
        </div>

        <div class="col-lg-6 col-md-12 col-sm-12 mt-2">

            <div class="card">
                <div class="card-header">
                    <h6 class="font-weight-bold">Comments</h6>
                </div>
                <div class="card-body">
                    {% if not comments %}

                    <div class="row justify-content-center mb-5">
                        <div class="col-lg-6">
                            <h6 class="text-center"><i class="fa fa-unlink fa-2x"></i></h6>
                         <h5 class="text-center">No comments on this article yet</h5>
                        </div>
                    </div>
     
                 {% else %}
     
                     {% for comment in comments %}
                         <h6 class="text-main"><i class="fa fa-users mr-2"></i>{{comment.user}}</h6>
                         <p>{{comment.message}}</p>
                         <small>{{comment.created_at}}</small>
                         <hr>
                     {% endfor %}
     
                 {% endif %}
                </div>
            </div>

            
        </div>


        <div class="col-lg-12 col-md-12 col-sm-12 mt-2">
            <div class="card">
                <div class="card-header">
                   <h6 class="font-weight-bold">Article</h6>
                </div>
                <div class="card-body">
                    <p>{{article.post}}</p>
                </div>
            </div>
        </div>

        
    </div>

    
</div>



{% endblock %}